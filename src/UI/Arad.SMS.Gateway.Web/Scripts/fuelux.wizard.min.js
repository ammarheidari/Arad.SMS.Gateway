(function(n,t){var r=n.fn.wizard,i=function(t,i){var r;this.$element=n(t);this.options=n.extend({},n.fn.wizard.defaults,i);this.options.disablePreviousStep=this.$element.data().restrict==="previous"?!0:!1;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".wizard-steps > li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");r=this.$nextBtn.children().detach();this.nextText=n.trim(this.$nextBtn.text());this.$nextBtn.append(r);this.$prevBtn.on("click",n.proxy(this.previous,this));this.$nextBtn.on("click",n.proxy(this.next,this));this.$element.on("click","li.complete",n.proxy(this.stepclicked,this));this.currentStep>1&&this.selectedItem(this.options.selectedItem);this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".wizard-steps").addClass("previous-disabled"));this.$stepContainer=n(this.$element.data("target")||"body")};i.prototype={constructor:i,setState:function(){var c=this.currentStep>1,l=this.currentStep===1,a=this.currentStep===this.numSteps,t,f,e,r,o,u,s,i,h;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",l===!0||c===!1);t=this.$nextBtn.data();t&&t.last&&(this.lastText=t.last,typeof this.lastText!="undefined"&&(f=a!==!0?this.nextText:this.lastText,e=this.$nextBtn.children().detach(),this.$nextBtn.text(f).append(e)));r=this.$element.find(".wizard-steps > li");r.removeClass("active").removeClass("complete");r.find("span.badge").removeClass("badge-info").removeClass("badge-success");o=".wizard-steps > li:lt("+(this.currentStep-1)+")";u=this.$element.find(o);u.addClass("complete");u.find("span.badge").addClass("badge-success");s=".wizard-steps > li:eq("+(this.currentStep-1)+")";i=this.$element.find(s);i.addClass("active");i.find("span.badge").addClass("badge-info");h=i.data().target;this.$stepContainer.find(".step-pane").removeClass("active");n(h).addClass("active");this.$element.trigger("changed")},stepclicked:function(t){var f=n(t.currentTarget),i=this.$element.find(".wizard-steps li").index(f),u=!0,r;if(this.options.disablePreviousStep&&i<this.currentStep&&(u=!1),u){if(r=n.Event("stepclick"),this.$element.trigger(r,{step:i+1}),r.isDefaultPrevented())return;this.currentStep=i+1;this.setState()}},previous:function(){var i=this.currentStep>1,t;if(this.options.disablePreviousStep&&(i=!1),i){if(t=n.Event("change"),this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),t.isDefaultPrevented())return;this.currentStep-=1;this.setState()}},next:function(){var i=this.currentStep+1<=this.numSteps,r=this.currentStep===this.numSteps,t;if(i){if(t=n.Event("change"),this.$element.trigger(t,{step:this.currentStep,direction:"next"}),t.isDefaultPrevented())return;this.currentStep+=1;this.setState()}else r&&this.$element.trigger("finished")},selectedItem:function(n){var i,t;return n?(t=n.step||-1,t>=1&&t<=this.numSteps&&(this.currentStep=t,this.setState()),i=this):i={step:this.currentStep},i}};n.fn.wizard=function(r){var f=Array.prototype.slice.call(arguments,1),u,e=this.each(function(){var e=n(this),t=e.data("wizard"),o=typeof r=="object"&&r;t||e.data("wizard",t=new i(this,o));typeof r=="string"&&(u=t[r].apply(t,f))});return u===t?e:u};n.fn.wizard.defaults={selectedItem:{step:1}};n.fn.wizard.Constructor=i;n.fn.wizard.noConflict=function(){return n.fn.wizard=r,this};n(function(){n("body").on("mouseover.wizard.data-api",".wizard",function(){var t=n(this);t.data("wizard")||t.wizard(t.data())})})})(window.jQuery);